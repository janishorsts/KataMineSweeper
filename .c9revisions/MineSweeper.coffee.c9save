{"ts":1362414656551,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"expect = require('chai').expect\n_ = require 'underscore'\n\n\n# TESTS\n\ndescribe 'Game', ->\n  describe '#display()', ->\n\n    examples = [\n      {input: '.',       output: '0'},\n      {input: '*',       output: '*'},\n      {input: '*.',      output: '*1'}\n      {input: '.*',      output: '1*'},\n      {input: '*.*',     output: '*2*'},\n      {input: '.*.',     output: '1*1'},\n      {input: '..*.*..', output: '01*2*10'},\n\n      {input: \"*\\n.\",    output: \"*\\n1\"}\n      {input: \".\\n*\",    output: \"1\\n*\"}\n      {input: \".*\\n.*\",    output: \"2*\\n2*\"}\n    ]\n\n    _.each examples, (example) ->\n      it \"should display '#{example.output}' when input is '#{example.input}'\", ->\n        game = new Game input: example.input\n        expect(game.display()).to.equal example.output\n\ndescribe 'MineSweeper', ->\n  mineSweeper = {}\n\n  before ->\n    mineSweeper = new MineSweeper\n\n  describe '#run()', ->\n    it 'should end when input reaches 0 0', ->\n      mineSweeper.input('0 0');\n      expect(mineSweeper.run()).to.equal ''\n\n\n# CODE\n\nclass MineSweeper\n  input: ->\n  run: ->\n    ''\n\nclass Game\n  constructor: (@options) ->\n  display: ->\n    lines = @options.input.split('\\n')\n\n    _.each lines, (line, idy) ->\n      lines[idy] = line.replace(/\\./g, '0').split('')\n\n    _.each lines, (line, lineIndex) ->\n      _.each line, (square, idx) ->\n        return if lines[lineIndex][idx] == '*'\n\n        lines[lineIndex][idx]++ if lines[lineIndex][idx - 1] is '*'\n        lines[lineIndex][idx]++ if lines[lineIndex][idx + 1] is '*'\n\n        lines[lineIndex][idx]++ if lines[lineIndex + 1]?[idx] is '*'\n        lines[lineIndex][idx]++ if lines[lineIndex - 1]?[idx] is '*'\n\n    return lines.join('\\n').replace(/\\,/g, '')"]],"start1":0,"start2":0,"length1":0,"length2":1697}]],"length":1697}
{"contributors":[],"silentsave":false,"ts":1362416577795,"patch":[[{"diffs":[[0," require"],[-1," "],[1,"("],[0,"'undersc"]],"start1":35,"start2":35,"length1":17,"length2":17},{"diffs":[[0,"erscore'"],[1,")"],[0,"\n\n\n# TES"]],"start1":48,"start2":48,"length1":16,"length2":17},{"diffs":[[0,"\n\n# CODE"],[-1,"\n"],[1," "],[0,"\nclass M"]],"start1":1013,"start2":1013,"length1":17,"length2":17},{"diffs":[[0,"line, id"],[-1,"y"],[1,"x"],[0,") ->\n   "]],"start1":1184,"start2":1184,"length1":17,"length2":17},{"diffs":[[0,"lines[id"],[-1,"y"],[1,"x"],[0,"] = line"]],"start1":1204,"start2":1204,"length1":17,"length2":17},{"diffs":[[0,"e, lineI"],[-1,"nde"],[1,"d"],[0,"x) ->\n  "]],"start1":1275,"start2":1275,"length1":19,"length2":17},{"diffs":[[0,"square, "],[-1,"i"],[1,"squareI"],[0,"dx) ->\n "]],"start1":1310,"start2":1310,"length1":17,"length2":23},{"diffs":[[0,"es[lineI"],[-1,"ndex][i"],[1,"dx][squareI"],[0,"dx] == '"]],"start1":1353,"start2":1353,"length1":23,"length2":27},{"diffs":[[0,"     lines[lineI"],[-1,"nde"],[1,"d"],[0,"x][idx]++ if lin"]],"start1":1387,"start2":1387,"length1":35,"length2":33},{"diffs":[[0,"es[lineI"],[-1,"ndex][i"],[1,"dx][squareI"],[0,"dx - 1] "]],"start1":1420,"start2":1420,"length1":23,"length2":27},{"diffs":[[0,"     lines[lineI"],[-1,"nde"],[1,"d"],[0,"x][idx]++ if lin"]],"start1":1457,"start2":1457,"length1":35,"length2":33},{"diffs":[[0,"es[lineI"],[-1,"ndex][i"],[1,"dx][squareI"],[0,"dx + 1] "]],"start1":1490,"start2":1490,"length1":23,"length2":27},{"diffs":[[0,"ineI"],[-1,"ndex][idx]++ if lines[lineIndex + 1]?[idx"],[1,"dx][idx]++ if lines[lineIdx + 1]?[squareIdx] is '*'\n        lines[lineIdx][idx]++ if lines[lineIdx - 1]?[squareIdx] is '*'\n\n        lines[lineIdx][idx]++ if lines[lineIdx + 1]?[squareIdx + 1"],[0,"] is"]],"start1":1540,"start2":1540,"length1":49,"length2":198},{"diffs":[[0,"es[lineI"],[-1,"nde"],[1,"d"],[0,"x][idx]+"]],"start1":1754,"start2":1754,"length1":19,"length2":17},{"diffs":[[0,"ineI"],[-1,"nde"],[1,"d"],[0,"x - 1]?["],[-1,"idx"],[1,"squareIdx + 1"],[0,"] is"]],"start1":1783,"start2":1783,"length1":22,"length2":30},{"diffs":[[0,"+ 1] is '*'\n"],[1,"        "],[0,"\n    return "]],"start1":1806,"start2":1806,"length1":24,"length2":32}]],"length":1873,"saved":false}
{"ts":1362417044933,"patch":[[{"diffs":[[0,"turn if line"],[-1,"s[lineIdx]"],[0,"[squareIdx] "]],"start1":1342,"start2":1342,"length1":34,"length2":24},{"diffs":[[0,"        line"],[-1,"s[lineIdx]"],[0,"[idx]++ if l"]],"start1":1374,"start2":1374,"length1":34,"length2":24},{"diffs":[[0,"x]++ if line"],[-1,"s[lineIdx]"],[0,"[squareIdx -"]],"start1":1389,"start2":1389,"length1":34,"length2":24},{"diffs":[[0,"        line"],[-1,"s[lineIdx]"],[0,"[idx]++ if l"]],"start1":1424,"start2":1424,"length1":34,"length2":24},{"diffs":[[0," if line"],[-1,"s[lineIdx]"],[0,"[squareI"]],"start1":1443,"start2":1443,"length1":26,"length2":16},{"diffs":[[0,"        line"],[-1,"s[lineIdx]"],[0,"[idx]++ if l"]],"start1":1475,"start2":1475,"length1":34,"length2":24},{"diffs":[[0,"        line"],[-1,"s[lineIdx]"],[0,"[idx]++ if l"]],"start1":1536,"start2":1536,"length1":34,"length2":24},{"diffs":[[0,"        line"],[-1,"s[lineIdx]"],[0,"[idx]++ if l"]],"start1":1598,"start2":1598,"length1":34,"length2":24},{"diffs":[[0,"line"],[-1,"s[lineIdx]"],[0,"[idx"]],"start1":1671,"start2":1671,"length1":18,"length2":8}]],"length":1783,"saved":false}
{"ts":1362417117605,"patch":[[{"diffs":[[0,"plit('')"],[1,"\n      console.log lines[idx]"],[0,"\n\n    _."]],"start1":1243,"start2":1243,"length1":16,"length2":45}]],"length":1812,"saved":false}
{"ts":1362417177637,"patch":[[{"diffs":[[0,"('')"],[-1,"\n      console.log lines[idx]"],[0,"\n\n  "]],"start1":1247,"start2":1247,"length1":37,"length2":8},{"diffs":[[0,"uareIdx) ->\n"],[1,"        console.log lineIdx + ' ' + squareIdx\n"],[0,"        retu"]],"start1":1320,"start2":1320,"length1":24,"length2":70}]],"length":1829,"saved":false}
{"ts":1362417298161,"patch":[[{"diffs":[[0," ->\n"],[-1,"        console.log lineIdx + ' ' + squareIdx\n"],[0,"    "]],"start1":1328,"start2":1328,"length1":54,"length2":8},{"diffs":[[0,"'\n\n        line["],[-1,"i"],[1,"squareI"],[0,"dx]++ if line[sq"]],"start1":1371,"start2":1371,"length1":33,"length2":39},{"diffs":[[0,"*'\n        line["],[-1,"i"],[1,"suqareI"],[0,"dx]++ if line[sq"]],"start1":1427,"start2":1427,"length1":33,"length2":39},{"diffs":[[0,"'\n\n        line["],[-1,"i"],[1,"squareI"],[0,"dx]++ if lines[l"]],"start1":1484,"start2":1484,"length1":33,"length2":39},{"diffs":[[0,"*'\n        line["],[-1,"i"],[1,"squareI"],[0,"dx]++ if lines[l"]],"start1":1551,"start2":1551,"length1":33,"length2":39},{"diffs":[[0,"'\n\n        line["],[-1,"i"],[1,"squareI"],[0,"dx]++ if lines[l"]],"start1":1619,"start2":1619,"length1":33,"length2":39},{"diffs":[[0,"   line["],[-1,"i"],[1,"squareI"],[0,"dx]++ if"]],"start1":1698,"start2":1698,"length1":17,"length2":23}]],"length":1819,"saved":false}
{"ts":1362417311230,"patch":[[{"diffs":[[0,"ne[s"],[-1,"u"],[0,"q"],[1,"u"],[0,"areI"]],"start1":1440,"start2":1440,"length1":10,"length2":10}]],"length":1819,"saved":false}
{"ts":1362417396405,"patch":[[{"diffs":[[0,"ut: '0'}"],[-1,","],[0,"\n      {"]],"start1":164,"start2":164,"length1":17,"length2":16},{"diffs":[[0,"ut: '*'}"],[-1,","],[0,"\n      {"]],"start1":202,"start2":202,"length1":17,"length2":16},{"diffs":[[0,"t: '1*'}"],[-1,","],[0,"\n      {"]],"start1":280,"start2":280,"length1":17,"length2":16},{"diffs":[[0,": '*2*'}"],[-1,","],[0,"\n      {"]],"start1":320,"start2":320,"length1":17,"length2":16},{"diffs":[[0,": '1*1'}"],[-1,","],[0,"\n      {"]],"start1":360,"start2":360,"length1":17,"length2":16},{"diffs":[[0,"1*2*10'}"],[-1,","],[0,"\n\n      "]],"start1":404,"start2":404,"length1":17,"length2":16},{"diffs":[[0,".*\\n.*\","],[-1,"  "],[0,"  output"]],"start1":511,"start2":511,"length1":18,"length2":16},{"diffs":[[0,": \"2*\\n2*\"}\n"],[1,"      {input: \"*.\\n*.\",  output: \"*2\\n2*\"}\n"],[0,"    ]\n\n    _"]],"start1":527,"start2":527,"length1":24,"length2":67}]],"length":1854,"saved":false}
{"ts":1362417430710,"patch":[[{"diffs":[[0,"t: \"*2\\n"],[-1,"2"],[0,"*"],[1,"2"],[0,"\"}\n    ]"]],"start1":569,"start2":569,"length1":18,"length2":18}]],"length":1854,"saved":false}
{"ts":1362417447171,"patch":[[{"diffs":[[0,"t: \"*.\\n"],[-1,"*"],[1,"."],[0,".\",  out"]],"start1":550,"start2":550,"length1":17,"length2":17},{"diffs":[[0,": \"*"],[-1,"2\\n*2"],[1,"1\\n11"],[0,"\"}\n "]],"start1":570,"start2":570,"length1":13,"length2":13}]],"length":1854,"saved":false}
{"ts":1362417625932,"patch":[[{"diffs":[[0,"output\n\n"],[1,"\n"],[0,"describe"]],"start1":799,"start2":799,"length1":16,"length2":17}]],"length":1855,"saved":false}
{"contributors":[],"silentsave":false,"ts":1362417692885,"patch":[[{"diffs":[[0,"output\n\n"],[-1,"\n"],[0,"describe"]],"start1":799,"start2":799,"length1":17,"length2":16}]],"length":1854,"saved":false}
{"ts":1362417719813,"patch":[[{"diffs":[[0,"# CODE \n"],[1,"\n"],[0,"class Mi"]],"start1":1050,"start2":1050,"length1":16,"length2":17}]],"length":1855,"saved":false}
